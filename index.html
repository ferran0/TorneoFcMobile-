<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Torneo FC Mobile</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">⚽</div>
      <h1>Torneo FC Mobile</h1>
    </div>
    <nav class="nav">
      <button data-sec="registro" class="nav-btn active">Registrar</button>
      <button data-sec="calendario" class="nav-btn">Calendario</button>
      <button data-sec="tabla" class="nav-btn">Tabla</button>
      <button id="adminBtn" class="nav-btn">Admin</button>
    </nav>
  </header>

  <main class="container">
    <!-- Registrar -->
    <section id="registro" class="panel">
      <h2>Registrar jugador</h2>
      <form id="formRegistro" class="card">
        <label>Nombre en FC Mobile
          <input id="regNombre" type="text" maxlength="30" placeholder="Ej: Messi123" required />
        </label>
        <label>PIN (4 dígitos)
          <input id="regPin" type="text" maxlength="4" inputmode="numeric" placeholder="Ej: 4821" required />
        </label>
        <button class="btn neon-yellow" type="submit">Registrar</button>
        <p id="msgRegistro" class="msg"></p>
      </form>

      <div id="misDatos" class="card hidden">
        <h3>Tu registro</h3>
        <p id="md-nombre"></p>
        <p id="md-pin"></p>
        <p id="md-jornadas"></p>
      </div>
    </section>

    <!-- Calendario -->
    <section id="calendario" class="panel hidden">
      <div class="panel-header">
        <h2>Calendario de Partidos</h2>
        <select id="selectJornada"></select>
      </div>
      <div id="listaCalendario" class="grid"></div>
    </section>

    <!-- Tabla -->
    <section id="tabla" class="panel hidden">
      <div class="panel-header">
        <h2>Tabla de Clasificación</h2>
        <div class="actions">
          <button id="exportCSV" class="btn outline">Exportar CSV</button>
          <button id="exportJSON" class="btn outline">Exportar JSON</button>
        </div>
      </div>
      <div class="card table-wrap">
        <table id="tablaClasificacion">
          <thead>
            <tr>
              <th>#</th>
              <th>Jugador</th>
              <th>PTS</th>
              <th>PJ</th>
              <th>PG</th>
              <th>PE</th>
              <th>PP</th>
              <th>GF</th>
              <th>GC</th>
              <th>DIF</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- Admin modal + panel -->
    <div id="adminModal" class="modal hidden">
      <div class="modal-card">
        <button id="closeAdmin" class="close">✕</button>
        <div id="adminLogin">
          <h3>Acceso Admin</h3>
          <p>Ingresa la clave de administrador.</p>
          <input id="adminCodeInput" type="password" placeholder="Clave admin" />
          <button id="adminLoginBtn" class="btn neon-yellow">Entrar</button>
          <p class="muted">Clave única: (segura en cliente) — 0007</p>
          <p id="adminMsg" class="msg"></p>
        </div>

        <div id="adminPanel" class="hidden">
          <h2>Panel Admin</h2>
          <div class="tabs">
            <button data-tab="pins" class="tab-btn active">Generar PINs</button>
            <button data-tab="jugadores" class="tab-btn">Jugadores</button>
            <button data-tab="jornadas" class="tab-btn">Jornadas & Partidos</button>
            <button data-tab="resultados" class="tab-btn">Ingresar Resultados</button>
            <button data-tab="config" class="tab-btn">Config / Respaldos</button>
          </div>

          <div id="tabPins" class="tab active">
            <div class="card">
              <label>Cantidad de PINs a generar
                <input id="pinCount" type="number" min="1" max="500" value="5" />
              </label>
              <button id="genPins" class="btn neon-purple">Generar</button>
            </div>
            <div class="card">
              <h4>Lista de PINs</h4>
              <table id="pinsTable" class="mini-table">
                <thead><tr><th>PIN</th><th>Estado</th><th>Acción</th></tr></thead>
                <tbody></tbody>
              </table>
            </div>
          </div>

          <div id="tabJugadores" class="tab hidden">
            <div class="card">
              <h4>Jugadores registrados</h4>
              <input id="buscarJugador" placeholder="Buscar..." />
              <table id="jugadoresTable" class="mini-table">
                <thead><tr><th>Nombre</th><th>PIN</th><th>Acciones</th></tr></thead>
                <tbody></tbody>
              </table>
            </div>
          </div>

          <div id="tabJornadas" class="tab hidden">
            <div class="card">
              <label>Número de jornada
                <input id="nroJornada" type="number" min="1" value="1" />
              </label>
              <button id="crearJornada" class="btn neon-purple">Crear Jornada</button>
            </div>

            <div class="card">
              <h4>Agregar partido</h4>
              <label>Jornada
                <select id="selJornadaForPart"></select>
              </label>
              <label>Local
                <select id="selLocal"></select>
              </label>
              <label>Visitante
                <select id="selVisitante"></select>
              </label>
              <label>Fecha
                <input id="pFecha" type="date" />
              </label>
              <label>Hora
                <input id="pHora" type="time" />
              </label>
              <button id="agregarPartido" class="btn neon-purple">Agregar Partido</button>
            </div>

            <div class="card">
              <h4>Jornadas y partidos</h4>
              <div id="adminJornadasList"></div>
            </div>
          </div>

          <div id="tabResultados" class="tab hidden">
            <div class="card">
              <h4>Ingresar resultados</h4>
              <div id="listPartidosResultados"></div>
            </div>
          </div>

          <div id="tabConfig" class="tab hidden">
            <div class="card">
              <h4>Configuración y respaldos</h4>
              <label>Puntos victoria
                <input id="ptsWin" type="number" min="0" value="3" />
              </label>
              <label>Puntos empate
                <input id="ptsDraw" type="number" min="0" value="1" />
              </label>
              <label>Puntos derrota
                <input id="ptsLoss" type="number" min="0" value="0" />
              </label>

              <div class="row">
                <button id="exportAll" class="btn outline">Exportar DB JSON</button>
                <button id="importAll" class="btn outline">Importar JSON</button>
                <input id="fileInput" type="file" accept="application/json" class="hidden" />
                <button id="clearAll" class="btn danger">Limpiar todo</button>
              </div>
              <p class="muted">Advertencia: limpiar eliminará todos los datos del localStorage.</p>
            </div>
          </div>

          <div class="admin-footer">
            <button id="logoutAdmin" class="btn outline">Salir Admin</button>
          </div>
        </div>
      </div>
    </div>

  </main>

  <footer class="footer">
    <p>Diseño negro neón — FC Mobile Tournament</p>
  </footer>

  <script src="script.js"></script>
</body>
</html>
